<!DOCTYPE html>
<html lang ="en">
    
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>

    </head>
    <body>
        <h1> Rock Paper Scissors !</h1>
        <script>
                
                let choicesList = ["rock", "paper", "scissors" ];


                function getComputerChoice() {
                    let indexChoice = Math.floor(Math.random() * choicesList.length);
                    let choice = choicesList[indexChoice];
                    return choice;
                };

                function getPlayerChoice(){
                    let choice;
                    while (choicesList.includes(choice) != true){
                        choice = prompt("Your turn : ").toLowerCase();
                    }  
                    return choice;
                }

                function playRound (computerSelection, playerSelection){
                    let roundResult;
                    if( computerSelection == playerSelection){
                        roundResult = "Egality ! Play again "
                    }
                    if (playerSelection == "scissors" && computerSelection == "paper"){
                        roundResult = "You win ! Scissors beats paper."
                    }
                    if (playerSelection == "paper" && computerSelection == "rock"){
                        roundResult = "You win ! Paper beats rock."
                    }
                    if (playerSelection == "rock" && computerSelection == "scissors"){
                        roundResult = "You win ! Rock beats scissors."
                    }
                    if (computerSelection == "scissors" && playerSelection == "paper"){
                        roundResult = "You loose... Scissors beats paper."
                    }
                    if (computerSelection == "paper" && playerSelection == "rock"){
                        roundResult = "You loose... Paper beats rock."
                    }
                    if (computerSelection == "rock" && playerSelection == "scissors"){
                        roundResult = "You loose... Rock beats scissors."
                    }

                    return roundResult;
                }

                function game(){
                        playRoundResult = playRound(getComputerChoice(), getPlayerChoice())
                        console.log(playRoundResult);
                        let winnerTracker = playRoundResult.charAt(4);
                        return winnerTracker;

                }
                console.log("Welcome to the game Rock paper scissors ! \nlet's start the game. The winner will be the best of five.")
                let computerScore = 0;
                let playerScore = 0;
                for (let i =  1; i < 6; i++){
                    console.log("Round " + i);
                    let winner = game();
                    if (winner == "w"){
                        playerScore++;
                    } if (winner == "l"){
                        computerScore++;
                    } else if (winner == "i"){
                        i--;
                    }
                    console.log("Current score => Computer : " + computerScore + " Player : " + playerScore  );

                }
                    console.log(" THE FINAL SCORE => Computer : " + computerScore + " Player : " + playerScore  );

                

        </script>
    </body>
</html>



